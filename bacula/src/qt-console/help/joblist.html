<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<HEAD>
<TITLE>Bat User's Guide</TITLE>
<META NAME="description" CONTENT="Bat User's Guide">
<META NAME="keywords" CONTENT="bacula">
<META NAME="resource-type" CONTENT="document">
<META NAME="distribution" CONTENT="global">
<META HTTP-EQUIV="Content-Style-Type" CONTENT="text/css">
</HEAD>

<BODY>
<h1 align="center">Bat User's Guide</h1>
<br>

<h4>The JobList Interface</h4>
<font size=+1>

<p>The JobList interface displays a table of jobid's which are instances of
a job having been run.  The table displays data for each job stored in the
daemons sql backend.  The table currently includes the job name, the client name,
the job type, the job level, the number of files, the number of bytes, the status,
and a flag for the jobs files that have been purged or not, and the jobs
fileset.

<p>The job type is either "B" for backup or "R" for restore.  

<p>The job level is one of "I" for incremental or "F" for full or "D" for differential.

<p>A purged value of yes means that the files for that job have been purged from the 
catalog's file table.  Purged jobs are not be able to have their files browsed when
restoring from a job with that jobid.

<p>This interface uses a splitter to divide the display of the table and the controls
used to modify the selection criterion.  There are 7 drop down boxes that can be used
to filter out the records in the table and to view only the items you are interested
in.  There are two limiting spin boxes and related check boxes that can be used to 
limit the number of and the age of the records that are to be displayed.  These limiting
controls begin with default values that can be configured in the Settings->Preferences
dialog box in the JobList tab.

<p>Pushing the Refresh button causes the interface to re-query the database.  The
database does also get requerried every time it comes back to the top of the stack of
interfaces in the main window.  Another refresh option exists in the popup when right
clicking on the Joblist item in the Page Selector.

<p>Pushing the Graph button opens up a new JobPlot interface.  All of the 
drop downs and limiting controls in the JobPlot window default to the current
settings of the controls in the JobList interface.  If the graph button is not there,
bat was not compiled with qwt libraries.

<p>There are many options in the context sensitive popup that appear when the user
right clicks on an item in the job table.

<p>Listing console commands can be run to list the jobid, list the files on that jobid,
list the jobmedia for that jobid, and list the volumes used for that jobid.  There is
a preferences item to determine whether a long list or a short list command is run.
It can be found from the menu by following settings - preferences then the miscellaneous
tab.

<p>Dangerous commands of delete and purge are preceded by an "Are You Sure?" dialog
box.

<p>An interface to view the logs that have been stored in the database for the jobid 
can be viewed by using the show log for job option.
If the database does not have a log, an popup explaining the modification that
may be made to the bacula-dir.conf file appears.  The change is to add
"catalog = all" to the messages stanza of the messages resource that this job uses.

<p>Restore from job opens up the Select Jobs interface.  It opens prepopulated
with the correct data to open up a standard restore interface displaying the
filestructure backed up when the job ran.  It displays only the files from this job
if you don't change the controls in the "Select jobs interface"

<p>Restore from time populates the Select Jobs interface with the endtime of the job
populated in the Before Time entry box.  This causes the daemon to use the Before
Time to select the appropriate job id's for the restore.  This contains the most recent
full backup, the most recent differential backup done since the most recent full, and 
all the incremental backups done since the most recent full or differential.  This job
set is considered the best possible to restore to what the filesystem looked like
after that job ran.

</BODY>
</HTML>
